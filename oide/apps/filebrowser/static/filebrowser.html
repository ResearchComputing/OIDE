<div class="row fill">
  <div class="filetree-container col-sm-4 col-md-3 sidebar side">
    <div class="row volume-info">
      Volume Info
      <div class="progress progressbar">
        <div class="progress-bar" style="width: 80%"></div>
      </div>
    </div>
    <div ui-view="filetree"></div>
  </div>
  <div class="col-sm-8 col-sm-offset-4 col-md-9 col-md-offset-3 main fill" style="padding: 10px;">
    <div class="row">
      <ol class="breadcrumb">
        <!-- <li><a href="#">/</a></li>
        <li><a href="#">home</a></li>
        <li class="active">saurabh</li> -->
        <li ng-click="ctrl.changeDir($index)" ng-repeat="pathComponent in ctrl.currentDirectory" ng-class="{active: $last}">{{pathComponent}}</li>
        <div class="directory-options">
            <i class="fa fa-2x fa-users dir-option"></i>
            <i class="fa fa-2x fa-file-o dir-option"></i>
            <i class="fa fa-2x fa-folder-o dir-option"></i>
            <i class="fa fa-2x fa-upload dir-option"></i>
        </div>
      </ol>
    </div>
    <div class="row">
      <div ng-class="{'col-sm-8 scrollable-table': ctrl.show_details, 'col-sm-12 scrollable-table': !ctrl.show_details}">
        <table st-table="rowCollection" class="table">
        	<thead>
        	<tr>
        		<th>Name</th>
        		<th>Size</th>
        		<th>Owner</th>
        		<th>Group</th>
        		<th>Permissions</th>
        	</tr>
        	</thead>
        	<tbody>
            <tr ng-repeat="file in ctrl.fileData">
              <td><i class="fa" ng-class="{'fa-folder': file.type==='dir', 'fa-file': file.type==='file'}" style="padding-right: 5px;"></i><span class="filetable-filename" ng-class="{'filetable-filename-selected': file.filename === ctrl.selectedFile}" ng-click="ctrl.ShowDetails(file)">{{file.filename}}</span></td>
              <td>{{ file.size }}</td>
              <td>{{ file.owner }}</td>
              <td>{{ file.group }}</td>
              <td>{{ file.perm }}</td>
            </tr>
        	</tbody>
        </table>
      </div>
      <div class="col-sm-4 file-details" ng-show="ctrl.show_details">
        <h1>{{ctrl.selectedFile.filename}}</h1>
        <hr />
        <div class="row">
          <div class="col-sm-8 col-sm-offset-3">
            <div class="directory-options" style="float:left;">
              <div class="btn-toolbar" role="toolbar">
                <div class="btn-group" role="group">
                  <button type="button" class="btn btn-default">
                    <i class="fa fa-2x fa-users dir-option"></i>
                  </button>
                  <button type="button" class="btn btn-default">
                    <i class="fa fa-2x fa-file-o dir-option"></i>
                  </button>
                  <button type="button" class="btn btn-default">
                    <i class="fa fa-2x fa-folder-o dir-option"></i>
                  </button>
                  <button type="button" class="btn btn-default">
                    <i class="fa fa-2x fa-upload dir-option"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <br /> <br /><br /> <br />
        <p><b>Owner:</b> {{ctrl.selectedFile.owner}}</p>
        <br />
        <div class="row">
          <div class="col-sm-3">
            <p>
              <b>Groups:</b>
            </p>
          </div>
          <div class="col-sm-9">
            <div class="row">
              <!-- Should do ng-repeat here with all groups -->
              <p class="col-sm-4">{{ ctrl.selectedFile.group }}</p>
              <i class="fa fa-times col-sm-8"></i>
            </div>
            <div class="row">
              <p class="col-sm-4"></p>
              <i class="fa fa-plus col-sm-8"></i>
            </div>
          </div>
      </div>
      <br />
      <p><b>Size:</b> {{ctrl.selectedFile.size}}</p>
      <br />
      <p><b>Permissions:</b> </p>
      <table class="table">
        <thead>
          <tr>
            <td class="perm"></td>
            <td class="perm">read</td>
            <td class="perm">write</td>
            <td class="perm">execute</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="perm">
              user
            </td>
            <td class="perm">
              <input type="checkbox" ng-checked="ctrl.currentFilePermissions.user.r">
            </td>
            <td class="perm">
              <input type="checkbox" ng-checked="ctrl.currentFilePermissions.user.w">
            </td>
            <td class="perm">
              <input type="checkbox" ng-checked="ctrl.currentFilePermissions.user.x">
            </td>
          </tr>
          <tr>
            <td class="perm">
              group
            </td>
            <td class="perm">
              <input type="checkbox" ng-checked="ctrl.currentFilePermissions.group.r">
            </td>
            <td class="perm">
              <input type="checkbox" ng-checked="ctrl.currentFilePermissions.group.w">
            </td>
            <td class="perm">
              <input type="checkbox" ng-checked="ctrl.currentFilePermissions.group.x">
            </td>
          </tr>
          <tr>
            <td class="perm">
              other
            </td>
            <td class="perm">
              <input type="checkbox" ng-checked="ctrl.currentFilePermissions.others.r">
            </td>
            <td class="perm">
              <input type="checkbox" ng-checked="ctrl.currentFilePermissions.others.w">
            </td>
            <td class="perm">
              <input type="checkbox" ng-checked="ctrl.currentFilePermissions.others.x">
            </td>
          </tr>
        </tbody>
      </table>
      </div>
    </div>
  </div>
</div>
