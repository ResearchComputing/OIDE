sudo: required
dist: trusty

language: python
python:
    - "2.7"
# command to install dependencies

notifications:
  slack: ZZPndKgRwyaBuA1rWFm/nRxGl1M6hkXGns8QK9lzB6YkV7AVR5tjFAU/02K0JYDiZrre6vWTopm8/xMpfeMqKSEy+IF/fSk9DsDEtzinS3ZtIChaG2gioqacKfQJo/bgRfo+cjJK3SAQqBuvi+Khr5COY7VhnnCYeklbYY5hqTg=

before_install:
    - export CHROME_BIN=chromium-browser
    - "export DISPLAY=:99.0"
    - "sh -e /etc/init.d/xvfb start"
    - sleep 3
    - sudo apt-get update
    - sudo apt-get install -y libappindicator1 fonts-liberation
    - wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
    - sudo dpkg -i google-chrome*.deb

install:
    - pip install -r requirements.txt
# command to run tests

script:
    - export PROJECT_ROOT=$(pwd)
    - cd sandstone/client
    - npm install
    - cd $PROJECT_ROOT
    - python setup.py install
    - cd sandstone/scripts
    - python run_server_tests.py
    - python run_client_tests.py
